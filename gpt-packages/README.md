# Custom GPT Packages – llm

Dette området inneholder alle GPT-pakker, maler og støttefiler for NORSAIN sitt `llm`-repo.

# Custom GPT Agents

This directory contains Custom GPT configurations and templates.

## Mappeoversikt

- `instances/` – Alle aktive/produksjonsklare GPT-pakker
- `.sandbox/` – Midlertidige og eksperimentelle GPT-pakker
- `.archive/` – Utfasede/legacy GPT-pakker (historikk, ikke i bruk)
- `templates/` – Maler (arketyper), `_library` (felles byggeklosser), `_test` (testmaler)


### Eksempelstruktur

```text
gpt-packages/
  instances/
    norsain_copilot_architect/
      gpt.json
      README.md
      instructions/
      knowledge/
      actions/
  .sandbox/
    spike_gpt/
  .archive/
    2024-legacy-my-assistant/
  templates/
    custom_gpt/
    _library/
    _test/
```
## Hovedregler

- Alle aktive GPT-pakker skal ligge under `instances/`.
- Eksperimentelle/spike-GPT-er skal ligge under `.sandbox/`.
- Utfasede/legacy-GPT-er skal ligge under `.archive/`.
- Ingen ekte GPT-pakker skal ligge direkte i roten eller under `templates/`.
- Maler og testmaler skal kun ligge under `templates/`, ikke blandes med prod eller eksperiment.

Se README i hver undermappe for detaljerte regler og eksempler.
## Se også

- `instances/README.md` – regler for aktive GPT-pakker
- `.sandbox/README.md` – regler for eksperimentelle GPT-er
- `.archive/README.md` – regler for legacy/utfasede GPT-er
- `templates/README.md` – regler for maler, _library og _test

```bash
npm run scaffold <gpt-name>
```

Example with options:

```bash
npm run scaffold my-assistant \
  --description "A helpful AI assistant" \
  --author "Your Name" \
  --tags "helper,assistant"
```

## GPT Structure

Each Custom GPT follows this structure:

```text
[gpt-name]/
├── gpt.json              # Configuration metadata (name, description, author, tags, created)
├── README.md             # GPT documentation
├── instructions/         # GPT instructions and prompts (main.md)
├── actions/              # Custom actions (optional)
│   └── schema.json       # OpenAPI 3.1 schema (scaffolder updates info.title/info.description)
└── knowledge/            # Knowledge files (max 20)
  ├── index.md         # Generated by `npm run generate-index`
  └── [your files]
```

## Knowledge Files

- **Maximum**: 20 files per Custom GPT (repo rule; validation fails if exceeded)
- **Formats**: Markdown (.md), Text (.txt), PDF (.pdf), Code files
- **Organization**: Use subdirectories and descriptive names; `scripts/generate-index.mts` groups by first-level folders
- **Index**: Run `npm run generate-index <gpt-name>` to create or update `knowledge/index.md`

## Validation

Validate your GPT structure (errors vs warnings):

- Errors (block commit/workflow): missing required directories (`instructions`, `actions`, `knowledge`),
  missing `gpt.json`, or `knowledge/` containing more than 20 files.
- Warnings (informational): missing `instructions/main.md`, missing `actions/schema.json`, or empty `knowledge/`.

Run validator:

```bash
# Validate specific GPT
npm run validate <gpt-name>

# Validate all GPTs
npm run validate
```

## Best Practices

1. **Keep it focused**: Each GPT should have a clear, specific purpose
2. **Organize knowledge**: Group related files in subdirectories
3. **Document well**: Update instructions/main.md with clear guidance
4. **Stay under limit**: Monitor file count (max 20 files)
5. **Use descriptive names**: Both for GPT directories and knowledge files
6. **Validate regularly**: Run validation after changes
7. **Generate indexes**: Keep knowledge/index.md up to date

## Example GPTs and templates

Check `gpt-packages/templates/` (especially `gpt-packages/templates/custom_gpt`)
for the base structure and example files used by the scaffolder.

See `gpt-packages/templates/README.md` for details on template contents and conventions.
